/**
 * ColorPicker Styles
 *
 * Styling for the ColorPicker component with Alwan integration.
 * Uses CSS Modules with BEM methodology.
 */

// Import Alwan styles (if available)
// @import 'alwan/dist/css/alwan.min.css';

.color-picker-input {
	--swatch-size: 24px;
	--picker-input-height: 32px;

	position: relative;

	// Input field
	&__input:is(input) {
		background: var(--white, #fff);
		border: 1px solid var(--dt-gray-02, #eaedf2);
		border-radius: 6px;
		height: var(--picker-input-height);
		padding: calc((var(--picker-input-height) - var(--swatch-size)) / 2) 8px
			calc((var(--picker-input-height) - var(--swatch-size)) / 2) 12px;
		width: 100%;
		font-size: 14px;
		font-family: inherit;
		cursor: pointer;

		&:focus {
			outline: none;
			border-color: var(--primary, #3b82f6);
		}
	}

	// Reset button
	&__reset-btn {
		align-items: center;
		color: #eaedf2;
		cursor: pointer;
		display: flex;
		position: absolute;
		right: 40px;
		top: 50%;
		transform: translateY(-50%);
		z-index: 2;
		transition: color 0.2s ease;

		&:hover {
			color: var(--primary, #3b82f6);
		}

		i {
			font-size: 18px;
		}
	}

	// Color swatch
	&__swatch {
		background-color: var(--white, #fff);
		border: 1px solid var(--dt-gray-02, #eaedf2);
		border-radius: 6px;
		height: var(--swatch-size);
		overflow: hidden;
		position: absolute;
		right: 8px;
		top: 50%;
		transform: translateY(-50%);
		width: var(--swatch-size);
		z-index: 1;
		cursor: pointer;

		// Checkerboard background for transparency visualization
		&::before {
			--mesh-size: 25%;
			background: repeating-conic-gradient(
					#808080 0% 25%,
					transparent 0% 50%
				)
				50% / calc(var(--mesh-size) * 2) calc(var(--mesh-size) * 2);
			content: '';
			display: inline-block;
			height: 100%;
			left: 0;
			position: absolute;
			width: 100%;
		}

		// Actual color overlay
		&::after {
			background-color: var(--alwan-color, transparent);
			content: '';
			display: inline-block;
			height: 100%;
			left: 0;
			position: absolute;
			width: 100%;
		}
	}

	// Transparent indicator (hidden by default)
	&__transparent-sign {
		display: none;
	}

	// Transparent state modifier
	&--transparent {
		.color-picker-input__swatch {
			&::before {
				background: red;
				// Diagonal line indicating transparency
				clip-path: polygon(
					calc(100% - 1px) 0,
					100% 1px,
					1px 100%,
					0 calc(100% - 1px),
					calc(100% - 1px) 0
				);
			}
		}
	}

	// No input mode (swatch only)
	&--no-input {
		background: var(--white, #fff);
		border: 1px solid var(--dt-gray-02, #eaedf2);
		border-radius: 6px;
		cursor: pointer;
		height: var(--picker-input-height);
		padding: calc((var(--picker-input-height) - var(--swatch-size)) / 2);
		width: fit-content;
		min-width: var(--picker-input-height);
		transition: border-color 0.2s ease;

		&:hover {
			border-color: var(--primary, #3b82f6);
		}

		.color-picker-input__swatch {
			left: 0;
			position: relative;
			top: 0;
			transform: none;
		}
	}
}
